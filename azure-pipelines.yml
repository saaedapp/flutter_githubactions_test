# Starter pipeline
# Start with a minimal pipeline that you can customize to build and deploy your code.


trigger:
  branches:
    include:
      - main  # Change this to your main branch name

pool:
  vmImage: 'ubuntu-latest'  # You can also use 'windows-latest' or 'macos-latest'

steps:
  - task: UseFlutter@1
    inputs:
      version: 'latest'  # You can specify a specific version like '3.13.0'

  - script: flutter doctor
    displayName: 'Check Flutter Environment'

  - script: flutter pub get
    displayName: 'Install Dependencies'

  - script: flutter build apk --release
    displayName: 'Build Android APK'

  - task: PublishBuildArtifacts@1
    displayName: 'Upload APK to Artifacts'
    inputs:
      pathToPublish: 'build/app/outputs/flutter-apk/app-release.apk'
      artifactName: 'android-apk'
